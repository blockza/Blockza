(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[79],{6491:function(e,t,r){Promise.resolve().then(r.bind(r,818))},818:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var n=r(7437),i=r(2265),a=r(1625),s=r(2537),l=r(7415),c=r(4033),o=r(5691),d=r(1475),u=r(5420),g=r(4329),m=r(8383);let p={title:"",description:"",img:""};function x(){let{identity:e}=(0,g.QL)(e=>({identity:e.identity})),t=(0,o.Ry)().shape({title:(0,o.Z_)().required(),description:(0,o.Z_)().required(),img:(0,o.nK)().required("Image is required")}),r=(0,c.usePathname)(),x=(0,c.useRouter)(),h=i.useRef(),[b,y]=i.useState({imgName:"",imgUrl:""}),[f,v]=i.useState(null);i.useEffect(()=>{window.ic?window.ic.plug.isConnected().then(e=>{e||x.push("/")}):l.toast.error("Install Plug Wallet")},[r]);let T=()=>{v(null),y({imgName:"",imgUrl:""})},N=async t=>new Promise(async(r,n)=>{if(null===f)return;let i=await (0,u.A2)(f),a={title:t.title,user:"abdull",description:t.description,image:i,subscription:!1};console.log(e);let s=(0,d.XJ)({agentOptions:{identity:e}});s.insertEntry(a,m.v4).then(()=>r("Entry Added successfuly")).catch(e=>n(e))}),O=e=>{if("img"===e.target.name){let t=e.target.files[0],r=URL.createObjectURL(t);y({imgName:t.name,imgUrl:r}),v(t)}};return(0,n.jsx)("div",{className:"m-2 flex ",children:(0,n.jsx)(s.J9,{initialValues:p,innerRef:h,validationSchema:t,onSubmit:async(e,t)=>{let r=await N(e);l.toast.success(r),T(),t.resetForm(),t.setSubmitting(!1)},children:e=>{let{errors:t,touched:r}=e;return(0,n.jsxs)(s.l0,{className:"flex w-full flex-col items-center justify-center",onChange:e=>O(e),children:[(0,n.jsxs)("div",{className:"my-4 flex w-1/6 flex-col",children:[(0,n.jsx)("label",{htmlFor:"title",children:"Title"}),(0,n.jsx)(s.gN,{id:"title",name:"title",placeholder:"Title"}),t.title&&r.title?(0,n.jsx)("div",{className:"text-red-600",children:t.title}):null]}),(0,n.jsxs)("div",{className:"my-4 flex w-1/6 flex-col",children:[(0,n.jsx)("label",{htmlFor:"description",children:"Description"}),(0,n.jsx)(s.gN,{id:"description",name:"description",placeholder:"description"}),t.description&&r.description?(0,n.jsx)("div",{className:"text-red-600",children:t.description}):null]}),(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("p",{className:"text-2xl font-semibold",children:"Entry image"}),(0,n.jsx)("p",{className:"opacity-60",children:"Upload a entry image."}),(0,n.jsxs)("label",{className:"flex w-full items-center gap-5 rounded-xl border-2 border-gray-300 p-5 opacity-70",htmlFor:"img",children:[(0,n.jsx)("div",{className:"icon",children:(0,n.jsx)("img",{src:""!==b.imgUrl?b.imgUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTqJgO12xqOwt3vcZwldiNXl7oO7H_l5-DzUyN7_6U&s",className:"w-20",alt:""})}),(0,n.jsx)("div",{className:"text",children:(0,n.jsxs)("p",{className:"",children:[" ",""!==b.imgName?b.imgName:"Upload a file or drag and drop"]})})]}),(0,n.jsx)(s.gN,{className:"hidden w-full cursor-pointer rounded-lg border border-gray-300 bg-gray-50 text-sm text-gray-900 focus:outline-none dark:border-gray-600 dark:bg-gray-700 dark:text-gray-400 dark:placeholder-gray-400",id:"img",name:"img",type:"file"}),t.img&&r.img?(0,n.jsx)("div",{className:"text-red-600",children:t.img}):null]}),(0,n.jsx)(a.Z,{type:"submit",className:"flex w-1/6 justify-center",children:"Submit"})]})}})})}},1625:function(e,t,r){"use strict";var n=r(7437),i=r(2265),a=r(1678),s=r(2703);let l=i.forwardRef((e,t)=>{let{children:r,className:i,disabled:l,isLoading:c,variant:o="primary",size:d="base",isDarkBg:u=!1,leftIcon:g,rightIcon:m,classNames:p,...x}=e,h=c||l;return(0,n.jsxs)("button",{ref:t,type:"button",disabled:h,className:(0,s.cn)("inline-flex items-center rounded font-medium","focus-visible:ring-primary-500 focus:outline-none focus-visible:ring","shadow-sm","transition-colors duration-75",["base"===d&&["px-3 py-1.5","text-sm md:text-base"],"sm"===d&&["px-2 py-1","text-xs md:text-sm"]],["primary"===o&&["bg-primary-500 text-white","border-primary-600 border","hover:bg-primary-600 hover:text-white","active:bg-primary-700","disabled:bg-primary-700"],"outline"===o&&["text-primary-500","border-primary-500 border","hover:bg-primary-50 active:bg-primary-100 disabled:bg-primary-100",u&&"hover:bg-gray-900 active:bg-gray-800 disabled:bg-gray-800"],"ghost"===o&&["text-primary-500","shadow-none","hover:bg-primary-50 active:bg-primary-100 disabled:bg-primary-100",u&&"hover:bg-gray-900 active:bg-gray-800 disabled:bg-gray-800"],"light"===o&&["bg-white text-gray-700","border border-gray-300","hover:text-dark hover:bg-gray-100","active:bg-white/80 disabled:bg-gray-200"],"dark"===o&&["bg-gray-900 text-white","border border-gray-600","hover:bg-gray-800 active:bg-gray-700 disabled:bg-gray-700"]],"disabled:cursor-not-allowed",c&&"relative text-transparent transition-none hover:text-transparent disabled:cursor-wait",i),...x,children:[c&&(0,n.jsx)("div",{className:(0,s.cn)("absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",{"text-white":["primary","dark"].includes(o),"text-black":["light"].includes(o),"text-primary-500":["outline","ghost"].includes(o)}),children:(0,n.jsx)(a.Cd,{className:"animate-spin"})}),g&&(0,n.jsx)("div",{className:(0,s.cn)(["base"===d&&"mr-1","sm"===d&&"mr-1.5"]),children:(0,n.jsx)(g,{size:"1em",className:(0,s.cn)(["base"===d&&"md:text-md text-md","sm"===d&&"md:text-md text-sm"],null==p?void 0:p.leftIcon)})}),r,m&&(0,n.jsx)("div",{className:(0,s.cn)(["base"===d&&"ml-1","sm"===d&&"ml-1.5"]),children:(0,n.jsx)(m,{size:"1em",className:(0,s.cn)(["base"===d&&"text-md md:text-md","sm"===d&&"md:text-md text-sm"],null==p?void 0:p.rightIcon)})})]})});t.Z=l},8383:function(e,t,r){"use strict";r.d(t,{v4:function(){return s},XK:function(){return l}});var n=r(830);let i=e=>{let{IDL:t}=e,r=t.Vec(t.Nat8),n=t.Record({bio:t.Opt(t.Text),twitter:t.Opt(t.Text),externalLink:t.Opt(t.Text),name:t.Opt(t.Text),email:t.Opt(t.Text),bannerImg:t.Opt(r),profileImg:t.Opt(r)}),i=t.Variant({ok:t.Tuple(t.Text,n),err:t.Text}),a=t.Variant({ok:t.Tuple(t.Text,n,t.Bool),err:t.Text}),s=t.Record({bio:t.Text,twitter:t.Text,externalLink:t.Text,name:t.Text,email:t.Text,bannerImg:t.Opt(r),profileImg:t.Opt(r)}),l=t.Variant({ok:t.Tuple(t.Text,n,t.Opt(n)),err:t.Text}),c=t.Service({add_user:t.Func([],[i],[]),check_user_exists:t.Func([t.Principal],[t.Bool],[]),get_other_user_details:t.Func([t.Principal],[i],["query"]),get_user_details:t.Func([t.Text],[a],["query"]),update_user:t.Func([s],[l],[])});return c};var a=r(2601);let s=a.env.CANISTER_ID_USER||"6zgk6-2qaaa-aaaal-ac6dq-cai",l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.agent||new n.i7({...t.agentOptions});return t.agent&&t.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),n.vt.createActor(i,{agent:r,canisterId:e,...t.actorOptions})}},1475:function(e,t,r){"use strict";r.d(t,{xp:function(){return h},XJ:function(){return x},r_:function(){return b}});var n=r(830);let i=e=>{let{IDL:t}=e,r=t.Text,n=t.Principal,i=t.Vec(t.Nat8),a=t.Record({creation_time:t.Int,title:t.Text,subscription:t.Bool,user:n,description:t.Text,image:i}),s=t.Principal,l=t.Record({title:t.Text,subscription:t.Bool,description:t.Text,image:i}),c=t.Text,o=t.Service({getAllEntries:t.Func([],[t.Vec(t.Tuple(r,a))],["query"]),getEntry:t.Func([r],[t.Opt(a)],["query"]),getUserEntries:t.Func([s],[t.Vec(t.Tuple(r,a))],["query"]),insertEntry:t.Func([l,t.Text],[c],[]),main:t.Func([t.Text],[t.Opt(t.Text)],[])});return o};var a=r(2601);let s=a.env.CANISTER_ID_ENTRY||"ogidd-6aaaa-aaaal-qcezq-cai",l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.agent||new n.i7({...t.agentOptions});return t.agent&&t.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),n.vt.createActor(i,{agent:r,canisterId:e,...t.actorOptions})},c=e=>{let{IDL:t}=e,r=t.Text,n=t.Text,i=t.Vec(t.Nat8),a=t.Record({creation_time:t.Int,name:t.Text,user:n,description:t.Text,image:i}),s=t.Text,l=t.Record({name:t.Text,user:n,description:t.Text,image:i}),c=t.Text;return t.Service({getAllCollections:t.Func([],[t.Vec(t.Tuple(r,a))],["query"]),getCollection:t.Func([r],[t.Opt(a)],["query"]),getUserCollection:t.Func([s],[t.Vec(t.Tuple(r,a))],["query"]),insertCollection:t.Func([l],[c],[])})};var o=r(2601);let d=o.env.CANISTER_ID_COLLECTION||"plghn-riaaa-aaaal-qce6a-cai",u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.agent||new n.i7({...t.agentOptions});return t.agent&&t.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),n.vt.createActor(c,{agent:r,canisterId:e,...t.actorOptions})};var g=r(8383),m=r(2601);let p=(e,t,r)=>{let n=m.env.CANISTER_ID_NFTSTUDIO24||"7uioq-vyaaa-aaaal-ac6ea-cai",i={host:"https://".concat(n,".ic0.app")};return r?r.agentOptions?r.agentOptions.host=i.host:r.agentOptions=i:r={agentOptions:i},t(e,r)};function x(e){return p(s,l,e)}function h(){return p(d,u)}function b(e){return p(g.v4,g.XK,e)}},5420:function(e,t,r){"use strict";async function n(e){return new Promise((t,r)=>{let n=new FileReader;n.onload=()=>{t(n.result)},n.onerror=r,n.readAsArrayBuffer(e)})}async function i(e){let t=await n(e);return Array.from(new Uint8Array(t))}r.d(t,{A2:function(){return i}}),r(1240)},2703:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var n=r(348),i=r(3986);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.m)((0,n.Z)(t))}},4329:function(e,t,r){"use strict";r.d(t,{QL:function(){return l},k0:function(){return c},fl:function(){return o}});var n=r(4660),i=e=>({plugAddress:"",identity:null,auth:{state:"initializing-auth",actor:null,client:null},setAuth:t=>e(e=>({auth:t})),setPlugAddress:t=>e(e=>({plugAddress:t})),setIdentity:t=>e(e=>({identity:t}))}),a=e=>({entries:[],setEntries:t=>e(e=>({entries:t}))}),s=e=>({isBlack:!1,isOpen:"",setIsBlack:t=>e(e=>({isBlack:t})),setIsOpen:t=>e(e=>({isOpen:t}))});let l=(0,n.Ue)((e,t)=>({...i(e,t)})),c=(0,n.Ue)((e,t)=>({...a(e,t)})),o=(0,n.Ue)((e,t)=>({...s(e,t)}))}},function(e){e.O(0,[1724,830,2531,8907,2537,5072,2971,596,1744],function(){return e(e.s=6491)}),_N_E=e.O()}]);